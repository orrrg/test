language: java
sudo: false
jdk:
- oraclejdk8

addons:
  sonarqube:
    organization: "orrrg"
    token:
      # this one is to be able to run analysis on SonarQube
      # this is only token, without variable name. only a secret
      # (this is different from when you set an environment variable)
      secure: DM3QBbsYiHRMKg90kd6CpzFPn/TGCw60VHkKYY2BBlJUfXoqDj+SWS8MmpG3WMDQ4NCNZ1YmQ3+qNv3DdQg5q9iBUT10CFfLcGar7EGtEDwu+p4E6Oi1n18pUmh9cbIRLCpNA3LHUbNAmtzgPTsWi5u9lqo+CSfsJ3eUxwsuaDFMOIdgv/gXQ5q7Zsxs9QzQgX9Gqwc9YtNMmAxa25KGSsmBVKy8Y2LcijvlwAlRBWIGw8VWOJBcBH3QPH0prqM4GAh/9eMF1p9fQEmaeorGAFTrL1BNWXIlFALxAWp0TKyyfiN6I5d8gSh9SklEQkXPphCIfH2lnyY95PcoA4eMVvShYCcTqY9N/8HpMJ+3Qtg8Krws4CL3iJp/UE3CzsxfUpGz1nyWt+a0WnTIVfkn0qQJpTMCJMJ6lxHmpHQEOYchq8WUKKbxtPuz+IHJ3c3LhCmmxhPvsirSZZH5epq4G3MTYcpxGUQl9EjFGVitor348gIqGazA0UySDtTKqnzB7Vp8qNvvnGuCxVD+K+imMhqDfoJvj+fT7TsegRO+Yq6zEdc7FC8zQP200wXVNePAAOQifBZkkRjIoThiMJXp8pnbZF4maWWT62yzZ7nTtRq/qc9gsTYtCEH/Jzny7rjRZKdQBaHsRd/oM106EExVHNew6ds+McnlSso/vokJEX0=


    github_token:
      # this one is for pull requests (to add comments on them in GitHub)
      secure: czhz7DVkptSb6V+4HgBQKErFUT1vo7i5w0WYhd7uiCRrx+R3MdP8Gizhhw9OcJF3DW/0RS3jl/YNTCbuWT5r/IcDDTqiWLzceOmWhalvcXzLOsWmfTIhVEXx99lR/BQVpsb0W4mrsMotTx1b9IKy6kAhgDywCM3zcO/BSxKLsLiaGjZcazyN3TySw9N8rr7pBrGrZV6KuJT8LesUBRqtcaPLJGwezS/UiHjEbiuVnEYhxZ8yP1ejcgXX/XfE6Ti9qFv5+u3VQYEVUX076Y4n4Y28rAhBAEBjAktloN3VRjIn+rnMOheYZMYFWhRj6IE1nATVdjehL++SIazgCFAUOoV4KmgWjUDqmkIhr3mHyDY5mPLclN+8OrHHIWSUW0UkTH7hmXeB31nI8azKCycrtH9QbH4L+Y4Lb1OZFmR6r8BBOOav51iAmQguRA/uGLxnYZM12GjTWZ+Abof6sUKv06qyDeFhBgrL290SoEJ5BxpSDM/uWb/IsboaJUEVqggPhS1FvA9WafqTdfUl+RpY9Xj7zGlLtVq/9eV0rdCrc1FNAuMVg5ftDsMWmbcZHcbwntynqA1BQfD5dSjP8/i+1yCi6zMzKIPABDTkpMLRQ9zDOW3t8SctK0s1YigZ7CVEs1VVlkBwMOyIS+BigeYgqVO5AImno5DWhy0bKBOEliA=

script:
# the following command line builds the project, runs the tests with coverage and then execute the SonarQube analysis
- mvn -e clean org.jacoco:jacoco-maven-plugin:prepare-agent install sonar:sonar

cache:
  directories:
  - "$HOME/.m2/repository"
  - "$HOME/.sonar/cache"
